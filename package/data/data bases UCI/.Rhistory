if (numbatch!=0 && numbatch!="NULL" && numbatch!="FALSE"){
for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
}
else{
numbatch=list.files(fichero)
for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
### include
library(pls)
library(reshape)
library(grid)
library(caret)
library(e1071)
#establece el path
numbatch=1
path<-setwd("/home/susana/Documents/maestria/data bases UCI")
fichero<-path
files <- file.path(fichero, list.files(fichero))
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
if (numbatch!=0 && numbatch!="NULL" && numbatch!="FALSE"){
for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
}
else{
numbatch=length(files)
for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
}
### include
library(pls)
library(reshape)
library(grid)
library(caret)
library(e1071)
#establece el path
numbatch=0
path<-setwd("/home/susana/Documents/maestria/data bases UCI")
fichero<-path
files <- file.path(fichero, list.files(fichero))
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
if (numbatch!=0 && numbatch!="NULL" && numbatch!="FALSE"){
for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
}
else{
numbatch=length(files)
for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
}
numbatch
numbatch=3
class(numbath)
class(numbacth)
class(numbatch)
stopifnot(class(numbatch)=="numeric"))
stopifnot(class(numbatch)=="numeric")
module.gen-XY-SD <- function(numbatch, path)
{
### include
library(pls)
library(reshape)
library(grid)
library(caret)
library(e1071)
#establece el path
path<-setwd("/home/susana/Documents/maestria/data bases UCI")
fichero<-path
stopifnot(class(numbatch)=="numeric")
files <- file.path(fichero, list.files(fichero))
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
}
module.genXY.SD <- function(numbatch, path)
{
### include
library(pls)
library(reshape)
library(grid)
library(caret)
library(e1071)
#establece el path
path<-setwd("/home/susana/Documents/maestria/data bases UCI")
fichero<-path
stopifnot(class(numbatch)=="numeric")
files <- file.path(fichero, list.files(fichero))
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
}
module.genXY.SD(numbatch=2, path=setwd("/home/susana/Documents/maestria/data bases UCI"))
dim(X)
X
A<-module.genXY.SD(numbatch=2, path=setwd("/home/susana/Documents/maestria/data bases UCI"))
A
module.genXY.SD <- function(numbatch, path)
{
### include
library(pls)
library(reshape)
library(grid)
library(caret)
library(e1071)
#establece el path
fichero<-path
stopifnot(class(numbatch)=="numeric")
files <- file.path(fichero, list.files(fichero))
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
output<-list(X=X, Y=Y)
return(output)
}
A<-module.genXY.SD(numbatch=2, path<-setwd("/home/susana/Documents/maestria/data bases UCI"))
A
A$x
A$x
A$X
dim(A$X)
dim(A$Y)
A<-module.genXY.SD(numbatch=1, path<-setwd("/home/susana/Documents/maestria/data bases UCI"))
dim(A$X)
dim(A$Y)
A<-module.genXY.SD(numbatch=4, path<-setwd("/home/susana/Documents/maestria/data bases UCI"))
A<-module.genXY.SD(path<-setwd("/home/susana/Documents/maestria/data bases UCI"))
if (numbatch=="NULL") {numbatch==10}
module.genXY.SD <- function(numbatch, path)
{
### include
library(pls)
library(reshape)
library(grid)
library(caret)
library(e1071)
#establece el path
fichero<-path
#stopifnot(class(numbatch)=="numeric")
files <- file.path(fichero, list.files(fichero))
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
if (numbatch=="NULL") {
numbatch==10
for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
}
else
{ for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
}
output<-list(X=X, Y=Y)
return(output)
}
A<-module.genXY.SD(path<-setwd("/home/susana/Documents/maestria/data bases UCI"))
dim(A$X)
dim(A$Y)
module.genXY.SD <- function(numbatch, path)
{
### include
library(pls)
library(reshape)
library(grid)
library(caret)
library(e1071)
#establece el path
fichero<-path
#stopifnot(class(numbatch)=="numeric")
files <- file.path(fichero, list.files(fichero))
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
for(i in 1:numbatch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
output<-list(X=X, Y=Y)
return(output)
}
A<-module.genXY.SD(numbatch=2,path<-setwd("/home/susana/Documents/maestria/data bases UCI"))
dim(A$X)
dim(A$Y)
do.this <- "T1"
switch(do.this,
T1={X <- t(mtcars)
colSums(mtcars)%*%X
},
T2={X <- colMeans(mtcars)
outer(X, X)
},
stop("Enter something that switches me!")
)
#########################################################
do.this <- "T2"
switch(do.this,
T1={X <- t(mtcars)
colSums(mtcars)%*%X
},
T2={X <- colMeans(mtcars)
outer(X, X)
},
stop("Enter something that switches me!")
)
########################################################
do.this <- "T3"
switch(do.this,
T1={X <- t(mtcars)
colSums(mtcars)%*%X
},
T2={X <- colMeans(mtcars)
outer(X, X)
},
stop("Enter something that switches me!")
)
switch(do.this,
T1={X <- t(mtcars)
colSums(mtcars)%*%X
},
T2={X <- colMeans(mtcars)
outer(X, X)
},
stop("Enter something that switches me!")
)
?do.this
?switch
require(stats)
centre <- function(x, type) {
switch(type,
mean = mean(x),
median = median(x),
trimmed = mean(x, trim = .1))
}
x <- rcauchy(10)
centre(x, "mean")
centre(x, "median")
centre(x, "trimmed")
centre(10, mean)
centre(10, type=mean)
centre(10, mean)
c(1, 2, 3, 4, 10)
a<-c(1, 2, 3, 4, 10)
centre(a, "mean")
x <- rcauchy(10)
centre(x, "mean")
centre(x, "median")
centre(x, "trimmed")
fichero<-path
files=file.path(fichero, list.files(fichero))
total=length(files)
total
files
switch(batch,
total=length(files)         ,
to.batch=batch)
batch<-function(files, batch)
batch<-function(files, batch){}
switch(batch,
total=length(files),
to.batch=files(1 to n ))
}
batch<-function(files, batch){
switch(batch,
total=length(files),
to.batch=files(1 to n ))
}
batch<-function(files, batch){
switch(batch,
total=length(files),
to.batch=files(1 to n ))
n=3
batch<-function(files, batch){
switch(batch,
total=length(files),
to.batch=files(1 to n ))
n=3
batch<-function(files, batch){
switch(batch,
total=length(files),
to.batch=files(1:n ))
}
to.batch=files(1:n)
files=file.path(fichero, list.files(fichero))
files(1:n)
files=file.path(fichero, list.files(fichero))
files
class(files)
class(as.numeric(files))
class(as.numeric(files))
fichero<-path
files=file.path(fichero, list.files(fichero))
#stopifnot(class(numbatch)=="numeric")
batch<-function(files, batch){
switch(batch,
total=length(files),
to.batch=files(1:n))
one.batch=files(n)
}
## matriz X, Y vacía
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
for(i in 1:batch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
to.batch=files(1:n))
to.batch=files(1:n)
module.genXY.SD <- function(path, batch, n)
{
library(pls)
library(reshape)
library(grid)
library(caret)
library(e1071)
#establece el path
fichero<-path
files=file.path(fichero, list.files(fichero))
stopifnot(class(numbatch)=="numeric")
## matriz X, Y vacía
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
for(i in 1:batch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
output<-list(X=X, Y=Y)
return(output)
}
module.genXY.SD <- function(path, batch, n)
{
library(pls)
library(reshape)
library(grid)
library(caret)
library(e1071)
#establece el path
fichero<-path
files=file.path(fichero, list.files(fichero))
stopifnot(class(numbatch)=="numeric")
## matriz X, Y vacía
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
for(i in 1:batch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
output<-list(X=X, Y=Y)
return(output)
}
path<-setwd("/home/susana/Documents/maestria/data bases UCI")
module.genXY.SD <- function(path, batch)
{
library(pls)
library(reshape)
library(grid)
library(caret)
library(e1071)
#establece el path
fichero<-path
files=file.path(fichero, list.files(fichero))
stopifnot(class(numbatch)=="numeric")
## matriz X, Y vacía
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
for(i in 1:batch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
output<-list(X=X, Y=Y)
return(output)
}
path<-setwd("/home/susana/Documents/maestria/data bases UCI")
batch=1
A<-module.genXY.SD(batch=2,path)
dim(A$X)
dim(A$Y)
module.genXY.SD <- function(path, batch)
{
library(pls)
library(reshape)
library(grid)
library(caret)
library(e1071)
#establece el path
fichero<-path
files=file.path(fichero, list.files(fichero))
stopifnot(class(batch)=="numeric")
## matriz X, Y vacía
X<- matrix(nrow=0, ncol=128)
Y<- matrix(nrow=0, ncol=1)
### leer los datos
for(i in 1:batch)
{
data <- read.matrix.csr(files[i])
X0<-(as.matrix(data$x))
X<-rbind(X,X0)
Y0<-as.matrix(data$y)
Y<-rbind(Y,Y0)
}
output<-list(X=X, Y=Y)
return(output)
}
path<-setwd("/home/susana/Documents/maestria/data bases UCI")
batch=1
A<-module.genXY.SD(batch=2,path)
dim(A$X)
dim(A$Y)
path<-setwd("/home/susana/Documents/maestria/data bases UCI")
batch=1
A<-module.genXY.SD(batch=10,path)
dim(A$X)
dim(A$Y)
source('~/Documents/projetcs/driftout/inst/examples/02-createXYsanDiego.R')
